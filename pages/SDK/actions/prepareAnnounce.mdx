import { Tabs } from "nextra/components";

# prepareAnnounce

Prepares the payload for announcing a stealth address from the ERC-5564 contract.

This function simulates the contract call to generate the necessary transaction payload without sending a transaction.

The resulting payload can then be used for sending a transaction.

## Usage

<Tabs items={['example.ts', 'client.ts']} selectedIndex={0}>
  <Tabs.Tab>
    ```ts
    import { stealthClient } from "./client";

    const payload = await stealthClient.prepareAnnounce({
      account,
      args: {
        schemeId,
        stealthAddress,
        ephemeralPublicKey,
        metadata
      },
      ERC5564Address
    });

    /* { account, data, to, value } */
    ```

  </Tabs.Tab>
  <Tabs.Tab>
    ```ts
    import { createStealthClient } from "@scopelift/stealth-address-sdk";

    export const stealthClient = createStealthClient({
      chainId,
      rpcUrl,
    });
    ```

  </Tabs.Tab>
</Tabs>

## Return Value

- **Type:** [`PreparePayload`](../glossary/types.md#preparepayload)

  The prepared payload to send a transaction to the ERC-5564 contract and call `announce` on the contract.

## Parameters

### account

- **Type:** [`EthAddress`](../glossary/types.md#ethaddress)

  The address of the account making the announcement.

```ts {2}
const payload = await prepareAnnounce({
  account,
  args: {
    schemeId,
    stealthAddress,
    ephemeralPublicKey,
    metadata,
  },
  ERC5564Address,
});
```

### args

- **Type:** [`PrepareAnnounceArgs`](../glossary/types.md#prepareannounceargs)

  The details of the announcement, including the scheme ID, stealth address, ephemeral public key, and metadata.

```ts {3}
const payload = await prepareAnnounce({
  account,
  args: {
    schemeId,
    stealthAddress,
    ephemeralPublicKey,
    metadata,
  },
  ERC5564Address,
});
```

### ERC5564Address

- **Type:** [`EthAddress`](../glossary/types.md#ethaddress)

  The address of the ERC5564 Announcer contract.

```ts {9}
const payload = await prepareAnnounce({
  account,
  args: {
    schemeId,
    stealthAddress,
    ephemeralPublicKey,
    metadata,
  },
  ERC5564Address,
});
```
