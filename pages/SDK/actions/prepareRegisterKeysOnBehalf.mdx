import { Tabs } from 'nextra/components'

# prepareRegisterKeysOnBehalf

Prepares the payload for registering a stealth meta-address (keys) in the ERC-6538 registry contract on behalf of another account. 

This function simulates the contract call to generate the necessary transaction payload without sending a transaction. 

The resulting payload can then be used for sending a transaction.

## Usage

<Tabs items={['example.ts', 'client.ts']} selectedIndex={0}>
  <Tabs.Tab>
    ```ts
    import { stealthClient } from "./client";

    const payload = await stealthClient.prepareRegisterKeysOnBehalf({
      ERC6538Address,
      args,
      account,
    });

    /* { account, data, to, value } */
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```ts
    import { createStealthClient } from "@scopelift/stealth-address-sdk";

    export const stealthClient = createStealthClient({
      chainId,
      rpcUrl,
    });
    ```
  </Tabs.Tab>
</Tabs>

## Return Value

- **Type:** [`PreparePayload`](../glossary/types.md#preparepayload)

  The prepared payload to send a transaction to the ERC-6538 contract and call `registerKeysOnBehalf` on the contract.

## Parameters

### ERC6538Address

- **Type:** [`EthAddress`](../glossary/types.md#ethaddress)

  The address of the ERC-6538 Registry contract.

```ts {2}
const payload = await stealthClient.prepareRegisterKeysOnBehalf({
  ERC6538Address,
  args,
  account,
});
```

### args

- **Type:** [`RegisterKeysOnBehalfArgs`](../glossary/types.md#registerkeysonbehalfargs)

  The arguments for registering the stealth meta address.

  Includes the stealth meta address, scheme ID, the registrant's address, and the registrant's signature authorizing the registration.

```ts {3}
const payload = await stealthClient.prepareRegisterKeysOnBehalf({
  ERC6538Address,
  args,
  account,
});
```

### account

- **Type:** [`HexString`](../glossary/types.md#hexstring)

  The address that will be used to send the transaction.

```ts {4}
const payload = await stealthClient.prepareRegisterKeysOnBehalf({
  ERC6538Address,
  args,
  account,
});
```
